{% extends 'base.html' %}
{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ{% endblock %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow-sm">
            <div class="card-body">
                <h3 class="card-title text-center mb-4">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ</h3>
                <form method="POST">
                    <div class="mb-3">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" name="title" value="{{ event.title }}" class="form-control" required>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label class="form-label">–î–∞—Ç–∞</label>
                            <input type="date" name="date" value="{{ event.date }}" class="form-control" required>
                        </div>
                        <div class="col-md-6 mb-3">
                            <label class="form-label">–í—Ä–µ–º—è</label>
                            <input type="time" name="time" value="{{ event.time }}" class="form-control" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">–≠—Ç–∞–ø –æ–ª–∏–º–ø–∏–∞–¥—ã</label>
                        <select name="stage" class="form-select" required>
                            {% for st in ['–û—Ç–±–æ—Ä–æ—á–Ω—ã–π','–ü–æ–ª—É—Ñ–∏–Ω–∞–ª','–ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π','–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è'] %}
                                <option value="{{ st }}" {% if event.stage == st %}selected{% endif %}>{{ st }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">–ü—Ä–µ–¥–º–µ—Ç</label>
                        <select name="subject" class="form-select" required>
                            {% for subj in subjects %}
                                <option value="{{ subj.id }}" {% if event.subject_id == subj.id %}selected{% endif %}>
                                    {{ subj.name }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</label>
                        <select name="teacher" class="form-select" required>
                            {% for t in teachers %}
                                <option value="{{ t.id }}" {% if event.teacher_id == t.id %}selected{% endif %}>
                                    {{ t.name }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">–ê—É–¥–∏—Ç–æ—Ä–∏—è</label>
                        <select name="room" class="form-select" required>
                            {% for r in rooms %}
                                <option value="{{ r.id }}" {% if event.room_id == r.id %}selected{% endif %}>
                                    {{ r.number }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (—É—á–∞—Å—Ç–Ω–∏–∫)</label>
                        <select name="user" class="form-select" required>
                            {% for u in users %}
                                <option value="{{ u.id }}" {% if event.user_id == u.id %}selected{% endif %}>
                                    {{ u.username }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="d-grid">
                        <button type="submit" class="btn btn-warning">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                        <a href="{{ url_for('schedule') }}" class="btn btn-secondary mt-2">‚Ü© –ù–∞–∑–∞–¥</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
